# ПРОЭКТ


** IT-отдел крупного банка делает новую фичу для личного кабинета клиента. 
** Это виджет, который показывает несколько последних успешных банковских операций клиента.
** Проект, который на бэкенде будет готовить данные для отображения в новом виджете.


### Зависимости, необходимые для работы проэкта:

** poetry-core==1.9.1 
** python_version >= "3.12"
** requests==2.31.0



## ЗАДАНИЕ 1

1. Создание основные пакеты: src — для исходного кода, tests — для тестов.
2. Установите инструменты для проверки качества кода (Flake8, black, isort, mypy) в группу lint через Poetry.
3. Настройка файла .flake8 для конфигурации линтера Flake8.
4. Добавление конфигурации для black, isort и mypy в файл pyproject.toml.
5. В пакете src создайте модуль с названием masks, в котором реализовано две функции:
- Функцию маскировки номера банковской карты get_mask_card_number
- Функцию маскировки номера банковского счета get_mask_account


## ЗАДАНИЕ 2

1. Инициализирован новый локальный Git-репозиторий в папке проекта, с помощью команды git init.
2. Создан файл .gitignore в корне проекта и добавлены в него стандартные шаблоны для Python, чтобы исключить системные и временные файлы, такие как__pycache__, .idea и другие.
3. Создано минимум три коммита в процессе разработки кода, зафиксированы основные этапы создания проекта.
4. В пакете src создан новый модуль с именем widget. Этот модуль содержит функции для работы с новыми возможностями приложения.
5. В модуле widget создана функция mask_account_card, которая умеет обрабатывать информацию как о картах, так и о счетах.
6. Функция принимает один аргумент — строку, содержащую тип и номер карты или счета и возвращает строку с замаскированным номером.
7. В том же модуле создана функция get_date, которая принимает на вход строку с датой в формате "2024-03-11T02:26:18.671407" и возвращает строку с датой в формате "ДД.ММ.ГГГГ"


## ЗАДАНИЕ 3

1. В директории \src проекта создан модуль processing, который будет содержать новые функции обработки данных.
2. В модуле processing реализована функция filter_by_state, которая принимает список словарей и опционально значение для ключа state (по умолчанию 'EXECUTED'). 
3. Функция возвращает новый список словарей, содержащий только те словари, у которых ключ state соответствует указанному значению.
4. В том же модуле реализована функция sort_by_date, которая принимает список словарей и необязательный параметр, задающий порядок сортировки (по умолчанию — убывание). Функция должна возвращать новый список, отсортированный по дате (date).

## ТЕСТИРОВАНИЕ

1. В папке **test** созданы три тест-кейса **(test_masks.py, test_widget.py, test_processing.py)** для тестирования модулей: **masks, widget, processing**.
2. В **test_masks.py** созданы функции для тестирования:
- **mask_account_card**:
            - Функция корректно распознает и применяет нужный тип маскировки в зависимости от типа входных данных (карта или счет).
            - Параметризованные тесты с разными типами карт и счетов для проверки универсальности функции.
            - Тестирование функции на обработку некорректных входных данных и проверка ее устойчивости к ошибкам.
- **get_data**:
            - Тестирование правильности преобразования даты.
            - Проверка работы функции на различных входных форматах даты, включая граничные случаи и нестандартные строки с датами.
            - Проверка, что функция корректно обрабатывает входные строки, где отсутствует дата.
3. В **test_widget.py**:
- **mask_account_card**:
            - Функция корректно распознает и применяет нужный тип маскировки в зависимости от типа
            входных данных (карта или счет).
            - Параметризованные тесты с разными типами карт и счетов для проверки универсальности функции.
            - Тестирование функции на обработку некорректных входных данных и проверка ее устойчивости к ошибкам.
- **get_data**:
            Тестирование правильности преобразования даты.
            Проверка работы функции на различных входных форматах даты, включая граничные случаи и нестандартные строки с датами.
            Функция корректно обрабатывает входные строки, где отсутствует дата.
4. В **test_processing.py** созданы условия для тестирования: 
- **filter_by_state**:
            - Тестирование фильтрации списка словарей по заданному статусу state.
            - Проверка работы функции при отсутствии словарей с указанным статусом state в списке.
            - Параметризация тестов для различных возможных значений статуса state.
- **sort_by_date**:
            - Тестирование сортировки списка словарей по датам в порядке убывания и возрастания.
            - Проверка корректности сортировки при одинаковых датах.
            - Тесты на работу функции с некорректными или нестандартными форматами дат.
5.  Созданы условия для проверки покрытия с помощью **Code coverage**. Отчет сгенерирован в папке **htmlcov** и храниться в файле с названием **index.html**.
